<link href="css/clustermanagement.css?v=[AIV]{version}[/AIV]" rel="stylesheet"/>
<title>{{'view.clusterManagement.title' | translate}}</title>

<h1>
    {{title}}
    <span class="btn btn-link"
          ng-class="{ 'help-button': showExternalElements, 'help-button-disabled': !showExternalElements }"
          popover-template="'js/angular/templates/titlePopoverTemplate.html'"
          popover-trigger="mouseenter"
          popover-placement="bottom"
          popover-append-to-body="true"><span class="icon-info"></span></span>
</h1>

<div onto-loader-new
     ng-show="loader"
     class="cluster-loader"
     message="getLoaderMessage"
     size="75">
</div>

<div ng-hide="loader" class="clearfix mb-2">
    <button type="button" class="btn btn-secondary delete-cluster-btn mr-2" ng-if="clusterConfiguration"
            ng-click="showDeleteDialog()"
            tooltip="{{'cluster_management.buttons.delete_cluster_tooltip' | translate}}" tooltip-placement="bottom">
        <span class="icon-trash"></span> {{'cluster_management.buttons.delete_cluster' | translate}}
    </button>
</div>

<!--TODO: Remove in final version as this information will be shown
in a sidebar. To be implemented in a future MR-->
<div ng-if="clusterConfiguration" class="row">
    <div class="col-lg-4">
        <div class="card cluster-configuration-card">
            <div class="card-block">
                <div class="clearfix">
                    <h3 class="mb-0">
                        <span class="collapsible-heading" data-toggle="collapse" data-target="#cluster-configuration"
                              aria-expanded="false" aria-controls="cluster-configuration">
                            <em class="icon-caret-down text-muted"></em>
                            {{'cluster_management.cluster_configuration.label' | translate}}
                        </span>
                    </h3>
                </div>
                <div class="collapse show" id="cluster-configuration">
                    <div class="mt-1">
                        <div class="col-xs-8 mb-1 no-margin-list">
                            <h4>{{'cluster_management.cluster_configuration.configuration_label' | translate}}</h4>
                            <!--                            <ul>-->
                            <div>{{'cluster_management.cluster_configuration_properties.election_min_timeout' | translate}}</div>
                            <ul>
                                <li>
                                    <div>{{clusterConfiguration.electionMinTimeout}}</div>
                                </li>
                            </ul>
                            <div>{{'cluster_management.cluster_configuration_properties.election_range_timeout' | translate}}</div>
                            <ul>
                                <li>
                                    <div>{{clusterConfiguration.electionRangeTimeout}}</div>
                                </li>
                            </ul>
                            <div>{{'cluster_management.cluster_configuration_properties.heartbeat_interval' | translate}}</div>
                            <ul>
                                <li>
                                    <div>{{clusterConfiguration.heartbeatInterval}}</div>
                                </li>
                            </ul>
                            <div>{{'cluster_management.cluster_configuration_properties.message_size_kb' | translate}}</div>
                            <ul>
                                <li>
                                    <div>{{clusterConfiguration.messageSizeKB}}</div>
                                </li>
                            </ul>
                            <div>{{'cluster_management.cluster_configuration_properties.verification_timeout' | translate}}</div>
                            <ul>
                                <li>
                                    <div>{{clusterConfiguration.verificationTimeout}}</div>
                                </li>
                            </ul>
                        </div>
                        <div class="col-xs-4">
                            <h4>{{'cluster_management.cluster_configuration.nodes_list_label' | translate}}</h4>
                            <div ng-repeat="node in clusterConfiguration.nodes">
                                {{node}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div  ng-if="!loader" class="nodes">
    <div cluster-graphical-view></div>
</div>
