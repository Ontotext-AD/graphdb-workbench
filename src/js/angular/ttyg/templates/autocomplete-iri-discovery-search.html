<div id="{{extractionMethod.method + '_method_heading'}}" class="extraction-method-heading"
     ng-class="{'selected': extractionMethod.selected}">
    <div class="mr-0 extraction-method-toggle">
        <input type="checkbox" id="{{extractionMethod.method + '_checkbox'}}"
               name="{{extractionMethod}}" class="switch"
               ng-click="toggleAdditionalExtractionMethod(extractionMethod, $event)"
               ng-model="extractionMethod.selected"/>
        <label for="{{extractionMethod.method + '_checkbox'}}"></label>
        <a class="btn btn-link panel-toggle-link"
           aria-expanded="false" aria-controls="{{extractionMethod.method + '_method_content'}}"
           ng-click="onAdditionalExtractionMethodPanelToggle(extractionMethod)">
                                <span class="mr-1"
                                      uib-popover="{{'ttyg.agent.create_agent_modal.form.additional_query_methods.method.' + extractionMethod.method + '.tooltip' | translate}}"
                                      popover-trigger="mouseenter">{{'ttyg.agent.create_agent_modal.form.additional_query_methods.method.' + extractionMethod.method + '.label' | translate}}</span>
            <i class="fa fa-chevron-down toggle-icon"
               ng-class="{'expanded': extractionMethod.expanded}">
            </i>
        </a>
    </div>

    <div id="{{extractionMethod.method + '_method_content'}}"
         class="show extraction-method-content"
         aria-labelledby="{{extractionMethod.method + '_method_heading'}}"
         data-parent="#additionalExtractionMethods">
           <div ng-if="extractionMethod.expanded" class="extraction-method-options">
               <button class="btn btn-link btn-sm pull-right"
                       ng-click="checkAutocompleteIndexEnabled()"
                       ng-disabled="disabled"
                       gdb-tooltip="{{'ttyg.agent.create_agent_modal.form.additional_query_methods.method.autocomplete_iri_discovery_search.btn.reload.tooltip' | translate}}">
                   <i class="fa fa-arrows-rotate"></i>
               </button>
               <div ng-if="!autocompleteEnabled" class="autocomplete-disabled-message" ng-bind-html="getAutocompleteDisabledHelpMessage()">
               </div>
               <div class="input-field-group" ng-if="autocompleteEnabled">
                   <div class="form-group max-results" ng-show="agentFormModel.repositoryId">
                       <label for="{{extractionMethod.method + '_maxNumberOfResultsPerCall'}}"
                              uib-popover="{{'ttyg.agent.create_agent_modal.form.additional_query_methods.autocomplete_max_number_of_results_per_call.tooltip' | translate}}"
                              popover-trigger="mouseenter">
                           {{'ttyg.agent.create_agent_modal.form.additional_query_methods.autocomplete_max_number_of_results_per_call.label' | translate}}
                       </label>
                       <input type="number" class="form-control" ng-disabled="!extractionMethod.selected"
                              id="{{extractionMethod.method + '_maxNumberOfResultsPerCall'}}"
                              name="maxNumberOfResultsPerCall" min="0"
                              ng-model="extractionMethod.maxNumberOfResultsPerCall"
                              placeholder="{{'ttyg.agent.create_agent_modal.form.additional_query_methods.autocomplete_max_number_of_results_per_call.placeholder' | translate}}">
                   </div>
                   <div class="autocomplete-predicate-tags">
                       <label uib-popover="{{'ttyg.agent.create_agent_modal.form.additional_query_methods.autocomplete_search_predicates.tooltip' | translate}}"
                              popover-trigger="mouseenter">
                           {{'ttyg.agent.create_agent_modal.form.additional_query_methods.autocomplete_search_predicates.label' | translate}}</label>
                       <tags-input id="autocompletePredicateField" class="wb-tags-input" ng-model="extractionMethod.searchLabelPredicates" min-length="1"
                                   ng-disabled="!extractionMethod.selected"
                                   use-strings="true"
                                   add-on-space="true"
                                   add-on-comma="true"
                                   add-on-paste="true"
                                   replace-spaces-with-dashes="false"
                                   paste-split-pattern="[\s+]"
                                   ng-keydown="getSuggestions($event)"
                                   placeholder="{{'ttyg.agent.create_agent_modal.form.additional_query_methods.autocomplete_search_predicates.placeholder' | translate}}">
                           <auto-complete source="autocompleteSuggestions"></auto-complete>
                       </tags-input>
                   </div>
               </div>
        </div>
    </div>
</div>
