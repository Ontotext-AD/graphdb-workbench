<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: complex/create-repository/plugin.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: complex/create-repository/plugin.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Registers the 'create-repository' guide step plugin with the PluginRegistry.
 * This plugin provides a sequence of steps for guiding users through the process
 * of creating a new repository in the application.
 */
PluginRegistry.add('guide.step', [
    {
        /**
         * The name of the guide block handled by this plugin.
         * @type {string}
         */
        guideBlockName: 'create-repository',

        /**
         * Returns an array of step definitions for the 'create-repository' guide.
         *
         * @param {Object} options - Options for customizing the guide steps.
         * @param {string} [options.repositoryId] - The repository ID to use in the guide.
         * @param {string} [options.rulesetName] - The ruleset name, if applicable.
         * @param {boolean} [options.fts] - Whether to include the FTS (Full Text Search) step.
         * @param {Object} services - Services required by the guide steps.
         * @param {Object} services.GuideUtils - Utility functions for guide steps.
         * @returns {Array&lt;Object>} Array of guide step definitions.
         */
        getSteps: (options, services) => {
            const GuideUtils = services.GuideUtils;
            options.mainAction = 'create-repository';

            /**
             * Selector for the repository ID input element.
             * @type {string}
             */
            const repositoryIdInputSelector = GuideUtils.getGuideElementSelector('graphDBRepositoryIdInput');
            /**
             * The repository ID to be used in validation.
             * @type {string}
             */
            const repositoryId = options.repositoryId;
            /**
             * Array of step definitions for the guide.
             * @type {Array&lt;Object>}
             */
            const steps = [
                {
                    guideBlockName: 'click-main-menu',
                    options: angular.extend({}, {
                        menu: 'repositories',
                        showIntro: true
                    }, options)
                }, {
                    guideBlockName: 'clickable-element',
                    options: angular.extend({}, {
                        content: 'guide.step_plugin.create_repository.create_repository_button.content',
                        class: 'create-repository-guide-dialog',
                        url: 'repository',
                        elementSelector: GuideUtils.getGuideElementSelector('createRepository'),
                        onNextClick: GuideUtils.clickOnGuideElement('createRepository')
                    }, options)
                }, {
                    guideBlockName: 'clickable-element',
                    options: angular.extend({}, {
                        content: 'guide.step_plugin.create_repository.graph_db_repository.content',
                        class: 'create-gdb-repository-guide-dialog',
                        url: 'repository/create',
                        elementSelector: GuideUtils.getGuideElementSelector('createGraphDBRepository'),
                        disablePreviousFlow: false,
                        onNextClick: GuideUtils.clickOnGuideElement('createGraphDBRepository')
                    }, options)
                }, {
                    guideBlockName: 'input-element',
                    options: angular.extend({}, {
                        content: 'guide.step_plugin.create_repository.repository_id.content',
                        class: 'gdb-repository-id-input-guide-dialog',
                        url: 'repository/create/graphdb',
                        elementSelector: repositoryIdInputSelector,
                        disablePreviousFlow: false,
                        onNextValidate: () => Promise.resolve(GuideUtils.validateTextInput(repositoryIdInputSelector, repositoryId))
                    }, options)
                }
            ];

            if (options.rulesetName) {
                steps.push({
                    guideBlockName: 'clickable-element',
                    options: angular.extend({}, {
                        content: 'guide.step_plugin.create_repository.ruleset_dropdown.content',
                        url: 'repository/create/graphdb',
                        class: 'gdb-repository-ruleset-select-guide-dialog',
                        elementSelector: GuideUtils.getGuideElementSelector('graphDBRepositoryRulesetSelect'),
                        disablePreviousFlow: false,
                        show: () => () => {
                            GuideUtils.validateTextInput(repositoryIdInputSelector, repositoryId);
                        }
                    }, options)
                });
            }
            if(options.fts) {
                steps.push({
                               guideBlockName: 'clickable-element',
                               options: angular.extend({}, {
                                   content: 'guide.step_plugin.create_repository.enable-fts.content',
                                   url: 'repository/create/graphdb',
                                   class: 'gdb-repository-enable-fts-guide-dialog',
                                   extraContent: 'guide.step_plugin.create_repository.enable-fts.extra-content',
                                   extraContentClass: 'alert alert-help text-left',
                                   elementSelector: GuideUtils.getGuideElementSelector('enable-fts-search'),
                                   disablePreviousFlow: false,
                                   onNextValidate: () => Promise.resolve(GuideUtils.isChecked(GuideUtils.getGuideElementSelector('enable-fts-search', 'input')))
                               }, options)
                           });
            }
            steps.push({
                guideBlockName: 'clickable-element',
                options: angular.extend({}, {
                    content: 'guide.step_plugin.create_repository.save_button.content',
                    url: 'repository/create/graphdb',
                    class: 'create-repository-button-guide-dialog',
                    elementSelector: GuideUtils.getGuideElementSelector('graphDBRepositoryCrateButton'),
                    disablePreviousFlow: false,
                    show: () => () => {
                        GuideUtils.validateTextInput(repositoryIdInputSelector, repositoryId);
                    },
                    onNextClick: GuideUtils.clickOnGuideElement('graphDBRepositoryCrateButton')
                }, options)
            });

            return steps;
        }
    }
]);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#beforeShowPromise">beforeShowPromise</a></li><li><a href="global.html#getSteps">getSteps</a></li><li><a href="global.html#guideBlockName">guideBlockName</a></li><li><a href="global.html#reloadAndOpenInfoPanel">reloadAndOpenInfoPanel</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Wed Aug 06 2025 18:43:15 GMT+0300 (Eastern European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
